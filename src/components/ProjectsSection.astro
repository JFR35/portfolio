---
import '/public/styles/projects.css';
import reikiImage from '/public/img/reiki.png';
import deportesImage from '/public/img/AppDeportes.png';
import MirthETL from '/public/img/Mirth_ETL.png';
import pdaw from '/public/img/Proyecto_final.png';

const proyectos = [
  {
    title: "Extración Transfromación y Carga de Datos (ETL)",
    description: "Implementación de un flujo de trabajo ETL para la transformación de mensajes clínicos en formato HL7 v2.5 a recursos FHIR, utilizando Mirth Connect como motor de integración para recibir y parsear los mensajes HL7, Spring Boot como servicio intermedio para el mapeo y validación de datos, y Aidbox como servidor FHIR para almacenar los recursos transformados. Esta arquitectura garantiza la interoperabilidad sintáctica y semántica entre sistemas legados y plataformas modernas de historia clínica electrónica.",
    repoUrl: "https://github.com/JFR35/ETL_HL7_To_FHIRSERVER",
    liveUrl: "https://1drv.ms/v/s!ArytDc2XcBxYwJUnVBISugA5a1DJ9A?e=9zHj94",
    docuUrl: "https://1drv.ms/b/s!ArytDc2XcBxYwJUmzEtLu-umvygeLQ?e=Eb0d13",
    image: MirthETL
  },
  {
    title: "Sistema para caso de uso de personas con hipertensión",
    description: "Integración de un sistema de monitorización de la presión arterial con una aplicación web para el seguimiento de pacientes hipertensos, utilizando Aidbox como servidor FHIR para la gestión de datos clínicos estructurados y EHRbase para el almacenamiento y consulta de registros clínicos basados en openEHR. La solución permite la interoperabilidad entre dispositivos de medición y sistemas clínicos, garantizando el cumplimiento de estándares internacionales en salud digital.",
    repoUrl: "https://github.com/JFR35/BackPDAW",
    liveUrl: "https://1drv.ms/v/s!ArytDc2XcBxYwJUpFWCay3Ds4iiwzA?e=nHkidI",
    docuUrl: "https://1drv.ms/b/s!ArytDc2XcBxYwJUojdLyAYhf6bNyMA?e=MRdAS5",
    image: pdaw
  },
  /*
  {
    title: "App Web para gestión de Eventos Artisticos In the Soul",
    description: "Con Laravel, Inertia+Pinia y Vue con SCSS y Bootstrap, MySQL",
    repoUrl: "https://github.com/JFR35",
    liveUrl: "https://nostromo-nav.vercel.app",
    image: reikiImage
  },
  */
  {
    title: "Aplicación Web de gestión citas para Reiki TuBienestar",
    description: "Con Spring Boot (arquitectura hexagonal), MySQL, Angular con Angular Material, SCSS y autenticación JWT", 
    repoUrl: "https://github.com/JFR35/API-de-reiki",
    liveUrl: "https://nostromo-nav.vercel.app",
    image: reikiImage
  },
  {
    title: "Aplicación Web para registros Deportivos",
    description: "Con HML5, CSS3 y JavaScript, LocalStorage",
    repoUrl: "https://github.com/JFR35/My-Personal-Trainner",
    liveUrl: "https://nostromo-nav.vercel.app",
    image: deportesImage
  }
];
---
<section id="proyectos" class="section bg-space py-5 text-white">
  <div class="container">
    <h2 class="text-center mb-5 retro-text">Proyectos Destacados</h2>
    <div class="row justify-content-center g-4"> 
      {proyectos.map((proyecto, index) => (
        <div class="col-12 mb-4">
          <div class="d-flex flex-column flex-md-row align-items-center project-layout">
            <div class="col-md-5 mb-3 mb-md-0 text-center order-md-2">
              <img
                src={proyecto.image.src}
                alt={`Captura del proyecto ${proyecto.title}`}
                class="img-fluid rounded-3 shadow-lg project-image"
                loading="lazy"
                width={proyecto.image.width} 
                height={proyecto.image.height}
              />
            </div>
            <div class="col-md-7 pe-md-4 order-md-1">
              <h3 class="retro-text mb-3">{proyecto.title}</h3>
              <p class="mb-4 project-description">{proyecto.description}</p>
              
              <div class="d-flex flex-wrap gap-3 align-items-center">
                <a 
                  href={proyecto.repoUrl || '#'} 
                  class="btn btn-outline-light btn-sm" 
                  target="_blank" 
                  rel="noopener noreferrer"
                  {...(!proyecto.repoUrl && {tabIndex: -1, 'aria-disabled': 'true', onClick: e => e.preventDefault()})}
                >
                  <i class="fab fa-github me-2"></i> Código
                </a>

                <a 
                  href={proyecto.liveUrl && proyecto.liveUrl !== "x" ? proyecto.liveUrl : '#'} 
                  class={`btn btn-success btn-sm ${(!proyecto.liveUrl || proyecto.liveUrl === "x") ? 'disabled' : ''}`} 
                  target="_blank" 
                  rel="noopener noreferrer"
                  {...(!proyecto.liveUrl || proyecto.liveUrl === "x") && {tabIndex: -1, 'aria-disabled': 'true', onClick: e => e.preventDefault()}}
                >
                  <i class="fas fa-external-link-alt me-2"></i> Demo
                </a>

                <a 
                  href={proyecto.docuUrl || '#'} 
                  class={`btn btn-warning btn-sm ${!proyecto.docuUrl ? 'disabled' : ''}`} 
                  target="_blank" 
                  rel="noopener noreferrer"
                  {...(!proyecto.docuUrl && {tabIndex: -1, 'aria-disabled': 'true', onClick: e => e.preventDefault()})}
                >
                  <i class="fas fa-book me-2"></i> Documentación
                </a>

                <span class="badge bg-info text-dark ms-auto">
                  {index + 1}/{proyectos.length}
                </span>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
